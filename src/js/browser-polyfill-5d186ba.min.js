(function(a,b){if("function"==typeof define&&define.amd)define("webextension-polyfill",["module"],b);else if("undefined"!=typeof exports)b(module);else{var c={exports:{}};b(c),a.browser=c.exports}})(this,function(a){"use strict";if("undefined"==typeof browser){const b=`
      Returning a Promise is the preferred way to send a reply from an
      onMessage/onMessageExternal listener, as the sendResponse will be
      removed from the specs (See
      https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/runtime/onMessage)
    `.replace(/\s+/g," ").trim();a.exports=(()=>{const d={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},export:{minArgs:0,maxArgs:0},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},getSubTree:{minArgs:1,maxArgs:1},import:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},setIcon:{minArgs:1,maxArgs:1}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{update:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{download:{minArgs:1,maxArgs:1},cancel:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},getTitle:{minArgs:1,maxArgs:1},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},getIcon:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getBrowserInfo:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{create:{minArgs:1,maxArgs:1},captureVisibleTab:{minArgs:0,maxArgs:2},detectLanguage:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},query:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(d).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class e extends WeakMap{constructor(s,t=void 0){super(t),this.createItem=s}get(s){return this.has(s)||this.set(s,this.createItem(s)),super.get(s)}}const f=s=>{return s&&"object"==typeof s&&"function"==typeof s.then},g=(s,t)=>{return(...u)=>{chrome.runtime.lastError?s.reject(chrome.runtime.lastError):t.singleCallbackArg||1===u.length?s.resolve(u[0]):s.resolve(u)}},h=s=>1==s?"argument":"arguments",i=(s,t)=>{return function(v,...w){if(w.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${h(t.minArgs)} for ${s}(), got ${w.length}`);if(w.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${h(t.maxArgs)} for ${s}(), got ${w.length}`);return new Promise((x,y)=>{if(t.fallbackToNoCallback)try{v[s](...w,g({resolve:x,reject:y},t))}catch(z){console.warn(`${s} API method doesn't seem to support the callback parameter, `+"falling back to call it without a callback: ",z),v[s](...w),t.fallbackToNoCallback=!1,t.noCallback=!0,x()}else t.noCallback?(v[s](...w),x()):v[s](...w,g({resolve:x,reject:y},t))})}},j=(s,t,u)=>{return new Proxy(t,{apply(v,w,x){return u.call(w,s,...x)}})};let k=Function.call.bind(Object.prototype.hasOwnProperty);const l=(s,t={},u={})=>{let v=Object.create(null),w={has(y,z){return z in s||z in v},get(y,z){if(z in v)return v[z];if(z in s){let B=s[z];if("function"==typeof B){if("function"==typeof t[z])B=j(s,s[z],t[z]);else if(k(u,z)){let C=i(z,u[z]);B=j(s,s[z],C)}else B=B.bind(s);}else if("object"==typeof B&&null!==B&&(k(t,z)||k(u,z)))B=l(B,t[z],u[z]);else return Object.defineProperty(v,z,{configurable:!0,enumerable:!0,get(){return s[z]},set(C){s[z]=C}}),B;return v[z]=B,B}},set(y,z,A){return z in v?v[z]=A:s[z]=A,!0},defineProperty(y,z,A){return Reflect.defineProperty(v,z,A)},deleteProperty(y,z){return Reflect.deleteProperty(v,z)}},x=Object.create(s);return new Proxy(x,w)},m=s=>({addListener(t,u,...v){t.addListener(s.get(u),...v)},hasListener(t,u){return t.hasListener(s.get(u))},removeListener(t,u){t.removeListener(s.get(u))}});let n=!1;const o=new e(s=>{return"function"==typeof s?function(u,v,w){let y,A,x=!1,z=new Promise(D=>{y=function(E){n||(console.warn(b,new Error().stack),n=!0),x=!0,D(E)}});try{A=s(u,v,y)}catch(D){A=Promise.reject(D)}const B=!0!==A&&f(A);if(!0!==A&&!B&&!x)return!1;const C=D=>{D.then(E=>{w(E)},E=>{let F;F=E&&(E instanceof Error||"string"==typeof E.message)?E.message:"An unexpected error occurred",w({__mozWebExtensionPolyfillReject__:!0,message:F})}).catch(E=>{console.error("Failed to send onMessage rejected reply",E)})};return B?C(A):C(z),!0}:s}),p=({reject:s,resolve:t},u)=>{chrome.runtime.lastError?s(chrome.runtime.lastError):u&&u.__mozWebExtensionPolyfillReject__?s(new Error(u.message)):t(u)},q=(s,t,u,...v)=>{if(v.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${h(t.minArgs)} for ${s}(), got ${v.length}`);if(v.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${h(t.maxArgs)} for ${s}(), got ${v.length}`);return new Promise((w,x)=>{const y=p.bind(null,{resolve:w,reject:x});v.push(y),u.sendMessage(...v)})},r={runtime:{onMessage:m(o),onMessageExternal:m(o),sendMessage:q.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:q.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}};return l(chrome,r,d)})()}else a.exports=browser});
//# sourceMappingURL=browser-polyfill.min.js.map


// webextension-polyfill v.0.2.1 (https://github.com/mozilla/webextension-polyfill)

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */